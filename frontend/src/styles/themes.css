/**
 * Système de Thèmes avec Variables CSS
 * Compatible avec next-themes
 * 
 * Utilisation:
 * - next-themes ajoute la classe correspondante sur <html>
 * - Les variables CSS sont appliquées automatiquement
 * - Tous les composants utilisent var(--color-xxx)
 */

/* ============================================
   THÈME PAR DÉFAUT (Light)
   ============================================ */
:root,
[data-theme="light"] {
  /* Indiquer au navigateur le schéma de couleur */
  color-scheme: light;

  /* Couleurs principales */
  --color-primary: #3b82f6;
  --color-primary-dark: #2563eb;
  --color-primary-light: #60a5fa;
  
  --color-secondary: #737373;
  --color-secondary-dark: #525252;
  --color-secondary-light: #a3a3a3;
  
  /* Couleurs de statut */
  --color-success: #22c55e;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;
  
  /* Backgrounds */
  --color-background: #ffffff;
  --color-background-secondary: #f9fafb;
  --color-background-tertiary: #f5f5f5;
  
  /* Surfaces (cards, modals) */
  --color-surface: #ffffff;
  --color-surface-hover: #f9fafb;
  
  /* Texte */
  --color-text: #1f2937;
  --color-text-secondary: #6b7280;
  --color-text-tertiary: #9ca3af;

  /* Couleurs "on-" (texte/icone sur fonds colorés) */
  --color-on-primary: #ffffff;
  --color-on-secondary: #ffffff;
  --color-on-surface: #1f2937;
  --color-on-background: #1f2937;
  --color-on-success: #ffffff;
  --color-on-warning: #1f2937;
  --color-on-error: #ffffff;

  /* Bordures */
  --color-border: #e5e7eb;
  --color-border-light: #f3f4f6;
  --color-border-dark: #d1d5db;

  /* Focus ring */
  --ring-primary: #93c5fd;
  
  /* Ombres */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
}

/* ============================================
   THÈME DARK
   ============================================ */
.dark,
[data-theme="dark"] {
  /* Indiquer au navigateur le schéma de couleur */
  color-scheme: dark;

  --color-primary: #60a5fa;
  --color-primary-dark: #3b82f6;
  --color-primary-light: #93c5fd;
  
  --color-secondary: #9ca3af;
  --color-secondary-dark: #6b7280;
  --color-secondary-light: #d1d5db;
  
  --color-success: #34d399;
  --color-warning: #fbbf24;
  --color-error: #f87171;
  --color-info: #60a5fa;
  
  --color-background: #111827;
  --color-background-secondary: #1f2937;
  --color-background-tertiary: #374151;
  
  --color-surface: #1f2937;
  --color-surface-hover: #374151;
  
  --color-text: #f9fafb;
  --color-text-secondary: #d1d5db;
  --color-text-tertiary: #9ca3af;

  /* Couleurs "on-" (texte/icone sur fonds colorés) */
  --color-on-primary: #0b1220; /* Texte sombre sur bleu clair pour ratio AA */
  --color-on-secondary: #0b1220;
  --color-on-surface: #f9fafb;
  --color-on-background: #f9fafb;
  --color-on-success: #0b1220;
  --color-on-warning: #0b1220;
  --color-on-error: #0b1220;

  /* Focus ring */
  --ring-primary: #60a5fa;
  
  --color-border: #374151;
  --color-border-light: #4b5563;
  --color-border-dark: #1f2937;
  
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.6);
}

/* ============================================
   THÈME OCEAN (Bleu océan)
   ============================================ */
[data-theme="ocean"] {
  color-scheme: dark;

  --color-primary: #0ea5e9;
  --color-primary-dark: #0284c7;
  --color-primary-light: #38bdf8;
  
  --color-secondary: #06b6d4;
  --color-secondary-dark: #0891b2;
  --color-secondary-light: #22d3ee;
  
  --color-success: #14b8a6;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #0ea5e9;
  
  --color-background: #001f3f;
  --color-background-secondary: #003459;
  --color-background-tertiary: #004d73;
  
  --color-surface: #003459;
  --color-surface-hover: #004d73;
  
  --color-text: #e0f2fe;
  --color-text-secondary: #bae6fd;
  --color-text-tertiary: #7dd3fc;

  --color-on-primary: #00131f;
  --color-on-secondary: #00131f;
  --color-on-surface: #e0f2fe;
  --color-on-background: #e0f2fe;
  --color-on-success: #00131f;
  --color-on-warning: #00131f;
  --color-on-error: #00131f;

  --ring-primary: #38bdf8;
  
  --color-border: #0369a1;
  --color-border-light: #0284c7;
  --color-border-dark: #075985;
  
  --shadow-sm: 0 1px 2px 0 rgb(0 100 150 / 0.2);
  --shadow-md: 0 4px 6px -1px rgb(0 100 150 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(0 100 150 / 0.4);
  --shadow-xl: 0 20px 25px -5px rgb(0 100 150 / 0.5);
}

/* ============================================
   THÈME FOREST (Vert forêt)
   ============================================ */
[data-theme="forest"] {
  color-scheme: dark;

  --color-primary: #22c55e;
  --color-primary-dark: #16a34a;
  --color-primary-light: #4ade80;
  
  --color-secondary: #84cc16;
  --color-secondary-dark: #65a30d;
  --color-secondary-light: #a3e635;
  
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #22c55e;
  
  --color-background: #052e16;
  --color-background-secondary: #14532d;
  --color-background-tertiary: #166534;
  
  --color-surface: #14532d;
  --color-surface-hover: #166534;
  
  --color-text: #f0fdf4;
  --color-text-secondary: #dcfce7;
  --color-text-tertiary: #bbf7d0;

  --color-on-primary: #031a0d;
  --color-on-secondary: #031a0d;
  --color-on-surface: #f0fdf4;
  --color-on-background: #f0fdf4;
  --color-on-success: #031a0d;
  --color-on-warning: #031a0d;
  --color-on-error: #031a0d;

  --ring-primary: #4ade80;
  
  --color-border: #15803d;
  --color-border-light: #16a34a;
  --color-border-dark: #166534;
  
  --shadow-sm: 0 1px 2px 0 rgb(0 100 50 / 0.2);
  --shadow-md: 0 4px 6px -1px rgb(0 100 50 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(0 100 50 / 0.4);
  --shadow-xl: 0 20px 25px -5px rgb(0 100 50 / 0.5);
}

/* ============================================
   THÈME SUNSET (Orange coucher de soleil)
   ============================================ */
[data-theme="sunset"] {
  color-scheme: dark;

  --color-primary: #f97316;
  --color-primary-dark: #ea580c;
  --color-primary-light: #fb923c;
  
  --color-secondary: #f59e0b;
  --color-secondary-dark: #d97706;
  --color-secondary-light: #fbbf24;
  
  --color-success: #84cc16;
  --color-warning: #fbbf24;
  --color-error: #dc2626;
  --color-info: #f97316;
  
  --color-background: #431407;
  --color-background-secondary: #7c2d12;
  --color-background-tertiary: #9a3412;
  
  --color-surface: #7c2d12;
  --color-surface-hover: #9a3412;
  
  --color-text: #fff7ed;
  --color-text-secondary: #ffedd5;
  --color-text-tertiary: #fed7aa;

  --color-on-primary: #1a0b03;
  --color-on-secondary: #1a0b03;
  --color-on-surface: #fff7ed;
  --color-on-background: #fff7ed;
  --color-on-success: #1a0b03;
  --color-on-warning: #1a0b03;
  --color-on-error: #fff7ed;

  --ring-primary: #fb923c;
  
  --color-border: #c2410c;
  --color-border-light: #ea580c;
  --color-border-dark: #9a3412;
  
  --shadow-sm: 0 1px 2px 0 rgb(150 50 0 / 0.2);
  --shadow-md: 0 4px 6px -1px rgb(150 50 0 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(150 50 0 / 0.4);
  --shadow-xl: 0 20px 25px -5px rgb(150 50 0 / 0.5);
}

/* ============================================
   THÈME MIDNIGHT (Violet nuit)
   ============================================ */
[data-theme="midnight"] {
  color-scheme: dark;

  --color-primary: #a855f7;
  --color-primary-dark: #9333ea;
  --color-primary-light: #c084fc;
  
  --color-secondary: #8b5cf6;
  --color-secondary-dark: #7c3aed;
  --color-secondary-light: #a78bfa;
  
  --color-success: #34d399;
  --color-warning: #fbbf24;
  --color-error: #f87171;
  --color-info: #a855f7;
  
  --color-background: #1e1b4b;
  --color-background-secondary: #312e81;
  --color-background-tertiary: #3730a3;
  
  --color-surface: #312e81;
  --color-surface-hover: #3730a3;
  
  --color-text: #faf5ff;
  --color-text-secondary: #f3e8ff;
  --color-text-tertiary: #e9d5ff;

  --color-on-primary: #120a22;
  --color-on-secondary: #120a22;
  --color-on-surface: #faf5ff;
  --color-on-background: #faf5ff;
  --color-on-success: #0a1f17;
  --color-on-warning: #201a05;
  --color-on-error: #220a0a;

  --ring-primary: #c084fc;
  
  --color-border: #4c1d95;
  --color-border-light: #5b21b6;
  --color-border-dark: #3730a3;
  
  --shadow-sm: 0 1px 2px 0 rgb(100 50 150 / 0.2);
  --shadow-md: 0 4px 6px -1px rgb(100 50 150 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(100 50 150 / 0.4);
  --shadow-xl: 0 20px 25px -5px rgb(100 50 150 / 0.5);
}

/* ============================================
   THÈME ROSE (Rose moderne)
   ============================================ */
[data-theme="rose"] {
  color-scheme: dark;

  --color-primary: #ec4899;
  --color-primary-dark: #db2777;
  --color-primary-light: #f472b6;
  
  --color-secondary: #f43f5e;
  --color-secondary-dark: #e11d48;
  --color-secondary-light: #fb7185;
  
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #ec4899;
  
  --color-background: #4c0519;
  --color-background-secondary: #881337;
  --color-background-tertiary: #9f1239;
  
  --color-surface: #881337;
  --color-surface-hover: #9f1239;
  
  --color-text: #fdf2f8;
  --color-text-secondary: #fce7f3;
  --color-text-tertiary: #fbcfe8;

  --color-on-primary: #1f0a12;
  --color-on-secondary: #1f0a12;
  --color-on-surface: #fdf2f8;
  --color-on-background: #fdf2f8;
  --color-on-success: #041a14;
  --color-on-warning: #1a1504;
  --color-on-error: #1a0404;

  --ring-primary: #f472b6;
  
  --color-border: #be123c;
  --color-border-light: #e11d48;
  --color-border-dark: #9f1239;
  
  --shadow-sm: 0 1px 2px 0 rgb(150 0 50 / 0.2);
  --shadow-md: 0 4px 6px -1px rgb(150 0 50 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(150 0 50 / 0.4);
  --shadow-xl: 0 20px 25px -5px rgb(150 0 50 / 0.5);
}

/* ============================================
   ALIAS DE COMPATIBILITÉ (ThemeCustomProvider)
   ============================================ */

/* Aligner les anciennes variables (--primary-color, etc.) sur le nouveau système */
[data-theme] {
  --primary-color: var(--color-primary);
  --secondary-color: var(--color-secondary);
  --accent-color: var(--color-primary);
  --background-color: var(--color-background);
  --background-secondary: var(--color-background-secondary);
  --text-color: var(--color-text);
  --text-secondary: var(--color-text-secondary);
  --card-bg: var(--color-surface);
  --border-color: var(--color-border);
  --success-color: var(--color-success);
  --warning-color: var(--color-warning);
  --error-color: var(--color-error);
  --info-color: var(--color-info);
}

/* ============================================
   CLASSES UTILITAIRES POUR LES THÈMES
   ============================================ */

/* Backgrounds utilisant les variables */
.bg-theme-primary { background-color: var(--color-primary); }
.bg-theme-secondary { background-color: var(--color-secondary); }
.bg-theme-surface { background-color: var(--color-surface); }
.bg-theme-background { background-color: var(--color-background); }

/* Texte utilisant les variables */
.text-theme-primary { color: var(--color-primary); }
.text-theme-secondary { color: var(--color-text-secondary); }
.text-theme { color: var(--color-text); }

/* Bordures */
.border-theme { border-color: var(--color-border); }

/* Hover states */
.hover-theme-surface:hover { background-color: var(--color-surface-hover); }

/* Transitions fluides pour changements de thème */
* {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
}

/* Ne pas animer certains éléments */
input, textarea, select, button {
  transition-duration: 150ms;
}
